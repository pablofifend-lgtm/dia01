<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Formulario - Datos Personales</title>
    <style>
        :root {
            --invalid: #c9302c;
            --valid: #2a9d2a;
            --neutral: #ccc;
            --bg: #f7f7f7;
            --pad: 10px;
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        }

        body {
            background: var(--bg);
            padding: 2rem;
        }

        form {
            background: #fff;
            border: 1px solid var(--neutral);
            border-radius: 6px;
            max-width: 640px;
            margin: 0 auto;
            padding: 1rem 1.25rem;
            box-shadow: 0 2px 6px rgba(0, 0, 0, .06);
        }

        fieldset {
            border: 1px solid var(--neutral);
            padding: 1rem;
            border-radius: 6px;
        }

        legend {
            font-weight: 600;
            padding: 0 .5rem;
        }

        .form-row {
            display: flex;
            flex-direction: column;
            gap: 6px;
            margin-bottom: 12px;
        }

        label {
            font-size: 0.95rem;
        }

        input[type="text"],
        select {
            padding: .5rem;
            border: 1px solid var(--neutral);
            border-radius: 4px;
            outline: none;
            font-size: 1rem;
            transition: box-shadow .12s, border-color .12s;
        }

        /* Valid / Invalid styles */
        input:focus,
        select:focus {
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.03);
        }

        input:invalid,
        select:invalid {
            border-color: var(--invalid);
            box-shadow: 0 0 0 3px rgba(201, 48, 44, 0.08);
        }

        input:valid,
        select:valid {
            border-color: var(--valid);
            box-shadow: 0 0 0 3px rgba(42, 157, 42, 0.08);
        }

        .hint {
            font-size: 0.85rem;
            color: #666;
        }

        /* hint color reflects validity using sibling selector */
        input:invalid+.hint,
        select:invalid+.hint {
            color: var(--invalid);
        }

        input:valid+.hint,
        select:valid+.hint {
            color: var(--valid);
        }

        button {
            padding: .6rem .9rem;
            font-size: 1rem;
            border-radius: 4px;
            border: 0;
            background: #1a73e8;
            color: #fff;
            cursor: pointer;
        }

        .row-inline {
            display: flex;
            gap: 12px;
            align-items: flex-end;
        }

        @media (max-width:480px) {
            .row-inline {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>

<body>
    <form action="https://www.marvel.es" method="post" novalidate>
        <fieldset>
            <legend>Datos Personales</legend>

            <div class="form-row">
                <label for="nombre">Nombre Completo</label>
                <input id="nombre" name="nombre" type="text" required minlength="2" maxlength="40"
                    placeholder="Ej. María Pérez" autocomplete="name" />
                <span class="hint">Requerido. 2–40 caracteres.</span>
            </div>

            <div class="form-row">
                <label for="dni">DNI / NIE</label>
                <input id="dni" name="dni" type="text" required pattern="^([XxYyZz]\d{7}|\d{8})[A-Za-z]$" minlength="9"
                    maxlength="9" placeholder="Ej. 12345678Z o X1234567L" autocomplete="off" />
                <span class="hint">Formato DNI: 8 dígitos + letra. NIE: X/Y/Z + 7 dígitos + letra.</span>
            </div>

            <div class="form-row">
                <label for="estado">Estado civil</label>
                <select id="estado" name="estado" required>
                    <option value="" disabled selected>-- Selecciona --</option>
                    <option value="soltero">Soltero</option>
                    <option value="casado">Casado</option>
                    <option value="viudo">Viudo</option>
                    <option value="divorciado">Divorciado</option>
                    <option value="otro">Otro</option>
                </select>
                <span class="hint">Seleccione una opción.</span>
            </div>

            <div class="row-inline" style="margin-top:8px;">
                <button type="submit">Enviar</button>
            </div>
        </fieldset>
    </form>

    <script>
        // Habilita la validación nativa al intentar enviar y muestra estilos :valid/:invalid.
        (function () {
            const form = document.querySelector('form');
            form.addEventListener('submit', function (e) {
                if (!form.checkValidity()) {
                    e.preventDefault();
                    // Forzar que el navegador muestre el estado de los campos
                    Array.from(form.elements).forEach(el => el.reportValidity && el.reportValidity());
                }
            });
        })();
    </script>
</body>

</html>